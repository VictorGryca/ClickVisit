<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Admin - Todas as Agências</title>
  <style>
    table { border-collapse: collapse; }
    th, td { padding:.4rem .8rem; border:1px solid #666; }
    form.inline { display:inline; margin:0 .2rem; }
  </style>
</head>
<body>
  <div style="text-align:right;">
    <a href="/logout"><button>Logout</button></a>
  </div>
  <h1>Agências Cadastradas</h1>
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Nome</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody>
      <% agencies.forEach(a => { %>
        <tr>
          <td><%= a.id %></td>
          <td><%= a.name %></td>
          <td>
            <a href="/agencies/<%= a.id %>/properties">
              <button type="button">Propriedades</button>
            </a>
            <form class="inline" action="/admin/delete/<%= a.id %>" method="POST">
              <button type="submit">Deletar</button>
            </form>
            <form class="inline" action="/admin/edit/<%= a.id %>" method="POST">
              <input name="name" placeholder="Novo nome" required>
              <button type="submit">Editar</button>
            </form>
          </td>
        </tr>
      <% }) %>
    </tbody>
  </table>
  <h2>Cadastrar Nova Agência</h2>
  <form action="/admin" method="POST">
    <input name="name" placeholder="Nome da agência" required>
    <button type="submit">Adicionar</button>
  </form>
</body>
</html>
